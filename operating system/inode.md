## File System
파일 시스템은 운영체제가 저장매체에 파일을 읽고 쓰기 위한 자료구조와 알고리즘

### 왜 필요 할까?
- 데이터 조직화
- 저장 및 검색 효율성
- 데이터 보호

### 파일 시스템의 종류
- FAT, Inode 기반 파일 시스템

## FAT
- FAT(File Allocation Table)은 Windows와 같은 운영체제에서 사용되는 대표적인 파일 시스템
- FAT는 파일 할당 테이블을 통해 각 파일의 위치를 추적합니다.
![image](https://github.com/user-attachments/assets/e8e8913c-fb23-4ac6-9c8f-e9fb31983d22)

### FAT 구조
- 파일 할당 테이블 : 파일의 클러스터 위치를 저장하는 테이블로, 파일의 연결 리스트 형태로 각 클러스터의 다음 위치를 추적
- 클러스터 : 데이터를 저장하는 기본 단위
- 종류 : FAT32와 exFAT 등

### FAT 장점
- 구조가 단순하고, 소형 저장 장치에 적합
- 다양한 운영체제에서 호환 가능
- 메모리 오버헤드가 적음

### FAT 단점
- 대용량 파일에 비효율적이며, 조각화 발생
- 파일을 저장할 수 있는 크기의 제한 존재
- 파일 위치를 찾는 데 시간이 오래 걸릴 수 있음

## inode
inode 기반 파일 시스템은 리눅스 및 유닉스 계열 운영체제에서 주로 사용 <br>
각 파일은 고유한 inode 번호를 가지고 있으며, inode를 통해 파일의 메타 데이터와 데이터 블록을 추적
![image](https://github.com/user-attachments/assets/c7fd1d04-819e-4186-8358-48b101507bf5)

### inode 기본 구조
- Super Block : 파일 시스템 전체의 정보를 저장
- inode Block : 파일의 메타 정보를 저장하는 블록
- Data Block : 실제 파일 데이터가 저장되는 영역

### inode와 파일
파일 이름과 inode 번호가 매칭되어, 파일 이름을 통해 inode 번호를 찾고, inode를 기반으로 파일에 접근 <br>
inode는 파일의 메타 데이터(파일 권한, 소유자 정보, 파일 크기, 생성 시간 등)를 저장하며, 실제 데이터 위치도 inode에 기록

### inode 방식 파일 시스템 장단점
장점
- 파일이 저장될 데이터 블록을 독립적으로 관리하여 조각화 문제를 줄일 수 있음
- 대용량 파일을 효율적으로 관리할 수 있으며, 메타 데이터 접근 속도가 빠름

단점
- inode 블록의 수가 제한되어 있어 많은 수의 파일을 다룰 때 inode 부족 문제가 발생할 수 있음
- 디렉토리 엔트리에서 inode 번호를 찾는 추가 단계가 있어, 파일 시스템의 구조가 상대적으로 복잡

### inode 구조
- 파일 권한(Mode)
- 소유자 정보(Owner)
- 파일 크기(Size)
- 시간 관련 정보(Timestamp)
- 생성, 수정, 접근 시간
- 데이터 블록 위치 정보
- 데이터 블록 포인터는 파일의 실제 데이터를 저장하는 데이터 블록의 주소를 가리킵니다. 일반적으로 다음과 같이 구성됩니다:
  - Direct Blocks : 48KB 이하의 작은 파일은 직접 데이터 블록을 가리키는 여러 개의 직접 포인터를 사용합니다. 각 포인터는 하나의 데이터 블록을 가리킵니다.
  - Single Indirect Block : 직접 블록으로 표현하기 어려운 큰 파일(48KB ~ 4MB)을 위해, 간접 포인터를 사용하여 한 블록 안에 여러 데이터 블록의 주소를 저장할 수 있습니다.
                            하나의 간접 포인터당 대략 1024개의 데이터 블록을 저장 할 수 있습니다.
  - Double Indirect Block: 더 큰 파일(4GB)을 위해, 이중 간접 포인터를 사용합니다. 한 블록이 또 다른 블록을 가리키며, 그 블록이 여러 데이터 블록의 주소를 저장합니다.
  - Triple Indirect Block: 매우 큰 파일(4TB)을 지원하기 위해, 삼중 간접 포인터를 사용합니다. 세 단계를 거쳐 데이터를 참조할 수 있도록 설계된 구조입니다.

![image](https://github.com/user-attachments/assets/6d864a3c-81f9-49d4-96a9-4f8e44fb45b7)


